<a ui-sref="tasks"><img class="logo" src="https://sharedspace.herokuapp.com/image?img=logo"></a>

<navbar></navbar>
<section class="row">
<section class="incomplete">
    <h2 class="prompt">Hi <loggedinuser class="name"></loggedinuser>, what would you like to help with?</h2>
    <input type="text" placeholder="search tasks..." ng-model="searchIncomplete" class="search-tasks">
    
    <ul>
        <li ng-repeat="task in tasks | filter:{complete:false} | filter:searchIncomplete | orderBy: 'time' : true">
            <form>
                <input type="checkbox" ng-model="task.complete" ng-change="markComplete(task)">
                <span><b>{{task.taskName}}</b> - <b>{{task.points}}</b></span>
            </form>
        </li>
    </ul>
</section>

<section class="complete">
    <h2>Recently Completed Tasks</h2>
    <ul>
        <li ng-repeat="task in tasks | filter:{complete:true} | orderBy: 'time' : true | limitTo: 5">
            <input type="checkbox" checked="true" disabled="true">
            <span class="grey-strikethrough"><b>{{task.user.userName || 'You'}}</b> completed <b>{{task.taskName}}</b>
                <span am-time-ago="task.time"></span>
            </span>
        </li>
    </ul>
    <a ui-sref="allComplete"><button class="see-all">See all</button></a>
</div>
</section>

<section class="users">
    <users></users>
    <a ui-sref="leaderboard"><button>See all</button></a>
</section>

</section>